{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-effb749d6ba1e8c2.js","src/js/favorites/favorites.js","src/js/favorites/fetchFavorites.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","src/js/favorites/cardElement.js","src/js/favorites/renderFavorites.js","src/js/favorites/filterElement.js","src/js/favorites/favoritRefs.js","src/js/favorites/favPagination.js","src/js/favorites/handleFavPagination.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dFrGZ\\\":\\\"favorites.b6b5d818.js\\\",\\\"lp5u4\\\":\\\"sprite.7aa8ebb7.svg\\\",\\\"h5tdm\\\":\\\"favorites.4b3fb4a0.js\\\"}\"));","import '../components/components-index';\nimport '../header/header';\nimport '../header/_switch-themes';\nimport { renderCategories, renderCards } from './renderFavorites';\nimport { getValuesOfStorage, emptyRendering, emptyItem } from './cardElement';\nimport { handleFavPagination as handlePaginationFunction } from './handleFavPagination';\nimport {\n  conRef,\n  favoritesFilterRef,\n  favoritesCardsRef,\n  paginationRef,\n  favImgRef,\n} from './favoritRefs';\nimport { paginationFav } from './favPagination';\n\nconst screenWidth = window.innerWidth;\nlet perPage = 12;\nif (screenWidth < 768) {\n  perPage = 9;\n}\nlet page = 1;\nlet keyOfLocalStorage = null;\nlet pageCount = null;\n\nconst checkFilterBtn = evt => {\n  const isFilterBtn = evt.classList.contains('favorites__filter-btn');\n\n  if (isFilterBtn) {\n    const activeButton = document.querySelector('.favorites__active-btn');\n\n    if (activeButton) {\n      activeButton.classList.remove('favorites__active-btn');\n    }\n\n    evt.classList.add('favorites__active-btn');\n  }\n};\n\nconst handleHeartClick = evt => {\n  const target = evt.target.closest('.icon-button');\n\n  if (!target) {\n    return;\n  }\n\n  const isHiddenEl = evt.target.closest('.favorites__cards-item');\n  if (isHiddenEl) {\n    isHiddenEl.style.display = 'none';\n  }\n\n  const buttonId = target.id.slice(1);\n  const dataValue = target.getAttribute('data-category');\n  const StorageData = getValuesOfStorage('favorites') || [];\n\n  const index = StorageData.findIndex(el => el.id === buttonId);\n\n  if (index !== -1) {\n    StorageData.splice(index, 1);\n  } else {\n    StorageData.push({ id: buttonId, category: dataValue });\n  }\n\n  localStorage.setItem('favorites', JSON.stringify(StorageData));\n\n  const heartIcon = target.querySelector('.favorites__heart');\n  heartIcon.classList.toggle('heart-isActive');\n};\n\nconst handleFilter = async evt => {\n  const target = evt.target;\n\n  if (target.type !== 'button') {\n    return;\n  }\n\n  checkFilterBtn(target);\n  keyOfLocalStorage = getValuesOfStorage('favorites');\n  let arrayFromFilter = keyOfLocalStorage;\n  if (target.textContent !== 'All categories') {\n    arrayFromFilter = keyOfLocalStorage.filter(\n      el => el.category === target.textContent\n    );\n  }\n\n  if (arrayFromFilter.length !== 0) {\n    localStorage.setItem('page', 1);\n    keyOfLocalStorage = arrayFromFilter;\n    pageCount = Math.ceil(arrayFromFilter.length / perPage);\n    paginationRef.style.display = pageCount > 1 ? 'flex' : 'none';\n\n    paginationFav(pageCount, page);\n\n    const data = await renderCards(arrayFromFilter, page, perPage);\n    favoritesCardsRef.innerHTML = data;\n\n    favoritesCardsRef.style.justifyContent = 'start';\n    return page;\n  } else {\n    favoritesCardsRef.innerHTML = emptyItem();\n    favoritesCardsRef.style.justifyContent = 'center';\n  }\n  return keyOfLocalStorage, pageCount, page;\n};\n\n// -------------------------------------------основна функція та логіка сторінки Favorites--------------------------\n\nconst renderPageFavorites = async () => {\n  paginationRef.style.display = 'none';\n\n  keyOfLocalStorage = getValuesOfStorage('favorites') || [];\n\n  if (screenWidth < 768 && keyOfLocalStorage.length === 0) {\n    favoritesCardsRef.style.minHeight = '100hv';\n  }\n\n  // =--------------------------------------LocalStorage не існує або порожній масив----------------------\n  if (keyOfLocalStorage.length === 0) {\n    if (screenWidth < 768) {\n      favImgRef.style.display = 'none';\n    }\n    emptyRendering(conRef);\n    return;\n  }\n\n  favImgRef.style.display = 'block';\n  pageCount = Math.ceil(keyOfLocalStorage.length / perPage);\n  // ---------------------------------------Рендеримо сторінку-----------------------------------\n  const dataCategories = await renderCategories(keyOfLocalStorage);\n  if (!dataCategories) {\n    favoritesFilterRef.style.display = 'none';\n    favoritesCardsRef.innerHTML = `\n    <li class=\"error-message\"><h2>Error</h2>\n    <p>Oops! Something went wrong! Try reloading the page!</p></li>`;\n    return;\n  }\n  const dataCards = await renderCards(keyOfLocalStorage, page, perPage);\n  favoritesFilterRef.innerHTML = dataCategories;\n  favoritesCardsRef.innerHTML = dataCards;\n\n  // перевіряємо довжину значення з LocalStorage-------------------------\n\n  if (pageCount > 1) {\n    paginationRef.style.display = 'flex';\n    paginationFav(pageCount, page);\n  }\n\n  // додаємо обробник подій на контейнер щоб обрати сердечко на всіх картках. Делегування подій---------------------------------\n  favoritesCardsRef.addEventListener('click', handleHeartClick);\n\n  // ==============Додаємо обробник подій на фільтр===============\n};\n\nconst filterRef = document.querySelector('.favorites__list-filter');\nfilterRef.addEventListener('click', handleFilter);\npaginationRef.addEventListener('click', evt => {\n  handlePaginationFunction(evt, keyOfLocalStorage, perPage, pageCount);\n});\nrenderPageFavorites();\n\nwindow.addEventListener('beforeunload', () => {\n  localStorage.removeItem('page');\n});\n\nimport '../footer/footer';\n//*modal\nimport '../modal/modal-order/modal-order';\n// import '../modal/modal-rating/modal-rating';\nimport '../modal/modal-recipe/modal-recipe';\n","import axios from 'axios';\nimport { errorMessage } from './cardElement';\n\nconst URL_RECIPE = 'https://tasty-treats-backend.p.goit.global/api/recipes/';\n\nexport const fetchRecipeById = async id => {\n  try {\n    const response = await axios.get(`${URL_RECIPE}${id}`);\n    if (response.status === 404) {\n      throw new Error('Page not found error 404');\n    }\n\n    return response;\n  } catch {\n    errorMessage();\n  }\n};\n\n// -------------------------------------------------отримує масив id та повертає масив об'єктів рецептів-----------------------\nexport const fetchRecipeDataForIds = async ids => {\n  const fetchPromises = ids.map(async id => {\n    const result = await fetchRecipeById(id);\n    return result;\n  });\n\n  const results = await Promise.all(fetchPromises);\n  return results;\n};\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","import icons from '../../images/sprite.svg';\nimport Notiflix from 'notiflix';\n\n//  Створюємо розмітку зірок-------------------\n\nconst createRatingStars = rating => {\n  const roundRating = Math.round(rating);\n  const activeStarMarkup = `<svg class=\"favorites__star-active\"><use href=\"${icons}#icon-star\"></use></svg>`;\n  const inactiveStarMarkup = `<svg class=\"favorites__star-notActive\"><use href=\"${icons}#icon-star-grey\"></use></svg>`;\n  let starsArray = [];\n  for (let i = 1; i <= 5; i += 1) {\n    starsArray.push(i > roundRating ? inactiveStarMarkup : activeStarMarkup);\n  }\n  return starsArray.join('');\n};\n\n// Створюємо розмітку рейтингу=------------------------\nconst renderRating = value => {\n  return `<div class='favorites__rating'>\n              <div class=\"favorites__rating-body\">\n                <div class=\"favorites__rating-active\"><div class='favorites__cards-rating'>${value}</div>${createRatingStars(\n    value\n  )}</div>\n                <div class=\"favorites__rating-items\">\n                  <input type=\"radio\" class=\"favorites__rating-item\" value=\"1\" name=\"rating\">\n                  <input type=\"radio\" class=\"favorites__rating-item\" value=\"2\" name=\"rating\">\n                  <input type=\"radio\" class=\"favorites__rating-item\" value=\"3\" name=\"rating\">\n                  <input type=\"radio\" class=\"favorites__rating-item\" value=\"4\" name=\"rating\">\n                  <input type=\"radio\" class=\"favorites__rating-item\" value=\"5\" name=\"rating\">\n                </div>\n              </div>\n  \n    </div>`;\n};\n\n// Створюємо розмітку карток---------------------------------------------\nconst renderListCards = listOfCard => {\n  return listOfCard.map(({ data }) => {\n    return `\n        <li class=\"favorites__cards-item\">\n        <button type=\"button\" id=\"#${\n          data._id\n        }\" class=\"icon-button\" data-category=\"${\n      data.category\n    }\"><svg class=\"favorites__heart heart-isActive\"><use href=\"${icons}#icon-heart\"></use></svg></button>\n          <div class=\"favorit__img-thumb\"><img src=\"${data.preview}\" alt=\"${\n      data.title\n    }\" width=\"335\"></div>\n          <div class=\"favorites__cards-thumb\">\n            <h2 class=\"favorites__cards-title\">${data.title}</h2>\n            <p class=\"favorites__cards-text\">${data.description}</p>\n            <div class=\"favorites__rating-thumb\">\n              ${renderRating(data.rating)}\n              <button class=\"favorites__cards-btn js-card-button\" data-id=\"${\n                data._id\n              }\">See recipe</button>\n            </div>\n          </div>\n        </li>`;\n  });\n};\n\n// -----------------------отримує масив картинок і повертає markup списку-------------------------\nconst renderCardsMarkup = cardsData => {\n  const cardMarkupCard = renderListCards(cardsData).join('');\n  return cardMarkupCard;\n};\n\nconst empty = () => {\n  const text = `It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.`;\n  return `<svg class=\"favorites__empty-img\">\n      <use href=\"${icons}#icon-elements\"></use>\n    </svg>\n    <p class=\"favorites__text\">${text}</p>`;\n};\n\nconst emptyItem = () => {\n  return `<li class=\"favorites__list-cards-thumb\">${empty()}</li>`;\n};\n\n// ========================================викликаємо коли потрібно завантажити порожню сторінку-======================\nconst emptyRendering = conRef => {\n  conRef.classList.add('empty');\n  conRef.insertAdjacentHTML('beforeend', empty());\n};\n\n// =================================парсимо localStorage========================================\nconst getValuesOfStorage = storedData => {\n  try {\n    const rawData = localStorage.getItem(storedData);\n    if (rawData) {\n      return JSON.parse(rawData);\n    }\n  } catch (error) {\n    console.error('Error while parsing local storage data:', error);\n  }\n};\n\nconst errorMessage = () => {\n  return Notiflix.Report.failure(\n    'Error',\n    'Oops! Something went wrong! Try reloading the page!',\n    'OK'\n  );\n};\n\nexport {\n  renderCardsMarkup,\n  empty,\n  emptyItem,\n  emptyRendering,\n  getValuesOfStorage,\n  errorMessage,\n};\n","import { fetchRecipeDataForIds } from './fetchFavorites';\nimport { renderCardsMarkup } from './cardElement';\nimport { markupCategory } from './filterElement';\nimport { errorMessage } from './cardElement';\n\n// -----------------------------рендер списку категорій-------------------------------------\n// ПРиймає масив об'єктів і повертає markup елементу категорій\n\nexport const renderCategories = async storageValue => {\n  try {\n    const results = await fetchRecipeDataForIds(storageValue.map(el => el.id));\n    const arrayOfCategories = results.map(el => el.data.category);\n    const markup = markupCategory(arrayOfCategories);\n    return markup;\n  } catch (error) {\n    console.log(error);\n    errorMessage();\n  }\n};\n\n//----------рендер списку карток-----------------\n// ПРиймає масив об'єктів, дійсну сторінку, скільки карток на сторінці і повертає markup елементу карток\n\nexport const renderCards = async (storageValue, currentPage, PerPage) => {\n  try {\n    const results = await fetchRecipeDataForIds(storageValue.map(el => el.id));\n    const startIndex = (currentPage - 1) * PerPage;\n    const endIndex = startIndex + PerPage;\n    const slicedResults = results.slice(startIndex, endIndex);\n\n    const cardMarkupCard = renderCardsMarkup(slicedResults);\n    return cardMarkupCard;\n  } catch (error) {\n    errorMessage();\n    console.log(error);\n  }\n};\n","// -------------------------------------------------отримує масив всіх категорій та повертає розмітку-------------------------\n\nconst renderListOfCategories = listOfCategories => {\n  const zeroMarkup = `<li><button type=\"button\" class=\"favorites__filter-btn favorites__active-btn\">All categories</button></li>`;\n  const uniqueArray = [];\n  for (const item of listOfCategories) {\n    if (!uniqueArray.includes(item)) {\n      uniqueArray.push(item);\n    }\n  }\n  const markup = uniqueArray.map(el => {\n    return `<li><button type=\"button\" class=\"favorites__filter-btn\">${el}</button></li>`;\n  });\n  markup.unshift(zeroMarkup);\n  return markup;\n};\n\n// -----------------------отримує масив категорій і повертає markup списку-------------------------\n\nexport const markupCategory = categories => {\n  const markupCategory = renderListOfCategories(categories).join('');\n  return markupCategory;\n};\n","const conRef = document.querySelector('.favorites__empty');\nconst favImgRef = document.querySelector('.favorites__img');\nconst favoritesFilterRef = document.querySelector('.favorites__list-filter');\nconst favoritesCardsRef = document.querySelector('.favorites__list-cards');\nconst paginationRef = document.querySelector('.favorites__pagination');\nconst favoritesListCardsThumb = document.querySelector(\n  '.favorites__list-cards-thumb'\n);\n\nexport {\n  conRef,\n  favImgRef,\n  favoritesFilterRef,\n  favoritesCardsRef,\n  paginationRef,\n  favoritesListCardsThumb,\n};\n","import sprite from '../../images/sprite.svg';\nimport { paginationRef } from './favoritRefs';\nconst screenWidth = window.innerWidth;\n\nexport function paginationFav(totalPage, page) {\n  let liTag = '';\n  let activeLi = null;\n  let beforePage = page - 1;\n  let afterPage = page + 1;\n\n  liTag += `<li class=\"favorites__pagination-item\">\n    <div class=\"favorites__pag-container start-container\">\n      <svg class=\"favorites__start-arrow-first\">\n        <use href=\"${sprite}#icon-arrow\"></use>\n      </svg>\n      <svg class=\"favorites__start-arrow-second\">\n        <use href=\"${sprite}#icon-arrow\"></use>\n      </svg>\n    </div>\n  </li>\n  <li class=\"favorites__pagination-item\">\n    <div class=\"favorites__pag-container prew-container\">\n      <svg class=\"favorites__prew-arrow\">\n        <use href=\"${sprite}#icon-arrow\"></use>\n      </svg>\n    </div>\n  </li>`;\n\n  if (page > 2) {\n    liTag += `<li class=\"favorites__pagination-item\">\n    <span class=\"favorites_page-dots-first\">...</span>\n  </li>`;\n  }\n\n  if (screenWidth >= 768) {\n    if (page == totalPage) {\n      beforePage -= 1;\n    }\n\n    if (page == 1) {\n      afterPage += 1;\n    }\n  }\n\n  for (let pageLength = beforePage; pageLength <= afterPage; pageLength++) {\n    if (pageLength > totalPage) {\n      continue;\n    }\n    if (screenWidth >= 768) {\n      if (pageLength == 0) {\n        pageLength = pageLength + 1;\n      }\n    } else {\n      if (pageLength <= 0) {\n        continue;\n      }\n    }\n\n    if (page == pageLength) {\n      //перевіряємо чи кнопка активна\n      activeLi = 'favorites__active-btn';\n    } else {\n      activeLi = '';\n    }\n    liTag += `<li class=\"favorites__pagination-item ${activeLi}\">\n    <span class=\"favorites__pag-page\">${pageLength}</span>\n  </li>`;\n  }\n\n  if (page < totalPage - 1) {\n    liTag += `<li class=\"favorites__pagination-item\">\n    <span class=\"favorites_page-dots-first\">...</span>\n  </li>`;\n  }\n\n  liTag += `<li class=\"favorites__pagination-item\">\n    <div class=\"favorites__pag-container next-container\">\n      <svg class=\"favorites__next-arrow\">\n        <use href=\"${sprite}#icon-arrow\"></use>\n      </svg>\n    </div>\n  </li>\n  <li class=\"favorites__pagination-item\">\n    <div class=\"favorites__pag-container end-container\">\n      <svg class=\"favorites__end-arrow-first\">\n        <use href=\"${sprite}#icon-arrow\"></use>\n      </svg>\n      <svg class=\"favorites__end-arrow-second\">\n        <use href=\"${sprite}#icon-arrow\"></use>\n      </svg>\n    </div>\n  </li>`;\n  paginationRef.innerHTML = liTag;\n}\n","import { renderCards } from './renderFavorites';\nimport { paginationFav } from './favPagination';\nimport { favoritesCardsRef } from './favoritRefs';\n\n// keyOfLocalStorage === значення з LocalStorage\n// pageCount === кількість сторінок\n// page === сторінка\n\nexport const handleFavPagination = async (\n  evt,\n  keyOfLocalStorage,\n  PER_PAGE,\n  pageCount\n) => {\n  let page = Number(localStorage.getItem('page'));\n  if (!page) {\n    page = 1;\n  }\n  if (evt.target.closest('.start-container')) {\n    page = 1;\n\n    const dataCards = await renderCards(keyOfLocalStorage, page, PER_PAGE);\n    favoritesCardsRef.innerHTML = dataCards;\n\n    paginationFav(pageCount, page);\n    localStorage.setItem('page', page);\n  }\n\n  if (evt.target.closest('.favorites__prew-arrow')) {\n    if (page !== 1) {\n      page -= 1;\n\n      const dataCards = await renderCards(keyOfLocalStorage, page, PER_PAGE);\n      favoritesCardsRef.innerHTML = dataCards;\n\n      paginationFav(pageCount, page);\n      localStorage.setItem('page', page);\n    }\n  }\n  if (evt.target.closest('.favorites__pag-page')) {\n    try {\n      page = Number(evt.target.textContent);\n\n      const dataCards = await renderCards(keyOfLocalStorage, page, PER_PAGE);\n      favoritesCardsRef.innerHTML = dataCards;\n\n      paginationFav(pageCount, page);\n      localStorage.setItem('page', page);\n    } catch (error) {\n      console.error('An error occurred:', error);\n    }\n  }\n\n  if (evt.target.closest('.favorites__next-arrow')) {\n    if (page !== pageCount) {\n      page += 1;\n\n      const dataCards = await renderCards(keyOfLocalStorage, page, PER_PAGE);\n      favoritesCardsRef.innerHTML = dataCards;\n\n      paginationFav(pageCount, page);\n      localStorage.setItem('page', page);\n    }\n  }\n\n  if (evt.target.closest('.end-container')) {\n    page = pageCount;\n\n    const dataCards = await renderCards(keyOfLocalStorage, page, PER_PAGE);\n    favoritesCardsRef.innerHTML = dataCards;\n\n    paginationFav(pageCount, page);\n    localStorage.setItem('page', page);\n  }\n};\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$2shzp","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$5f7e1b9ec6f9c4c3$var$renderRating","value","rating","roundRating","Math","round","activeStarMarkup","$parcel$interopDefault","inactiveStarMarkup","starsArray","push","join","$5f7e1b9ec6f9c4c3$var$createRatingStars","$5f7e1b9ec6f9c4c3$export$57b5eb27cd6afc7f","cardsData","listOfCard","map","data","_id","category","preview","title","description","$5f7e1b9ec6f9c4c3$export$6e22c362a0406a2c","$5f7e1b9ec6f9c4c3$export$1baa0dd82a199dd5","storedData","rawData","localStorage","getItem","error","console","$5f7e1b9ec6f9c4c3$export$493b5823483d2c4e","$7Y9D8","Report","failure","$8b8063b2acbd50e3$export$2e163e96fa949595","async","ids","fetchPromises","result","response","default","get","status","$8b8063b2acbd50e3$export$8b3900bd3f5573f5","Promise","all","$72b32af5efe95449$export$f20c709553293f6e","storageValue","arrayOfCategories","el","listOfCategories","uniqueArray","item","includes","markup","unshift","$e732cd385ecefa3b$var$renderListOfCategories","log","$72b32af5efe95449$export$e483d52d8d6686e1","currentPage","PerPage","results","startIndex","endIndex","slicedResults","slice","$b7cfca99dcf9fd0b$export$26f6cf3552c0da70","document","querySelector","$b7cfca99dcf9fd0b$export$10613455ea03d8e","$b7cfca99dcf9fd0b$export$e4d7b082f4ef04f8","$b7cfca99dcf9fd0b$export$e381592fe1942431","$b7cfca99dcf9fd0b$export$282ede1754680aae","$68dcb1f41b0b479b$var$screenWidth","window","innerWidth","$68dcb1f41b0b479b$export$e52cf02665882855","totalPage","page","liTag","activeLi","beforePage","afterPage","pageLength","innerHTML","$2ab2402668e450a2$export$4ad22b7287f9d1b5","evt","keyOfLocalStorage","PER_PAGE","pageCount","Number","target","closest","dataCards","setItem","textContent","$92b704da29f36d38$var$screenWidth","$92b704da29f36d38$var$perPage","$92b704da29f36d38$var$keyOfLocalStorage","$92b704da29f36d38$var$pageCount","$92b704da29f36d38$var$handleHeartClick","isHiddenEl","style","display","buttonId","dataValue","getAttribute","StorageData","index","findIndex","splice","stringify","classList","toggle","addEventListener","type","contains","activeButton","remove","add","$92b704da29f36d38$var$checkFilterBtn","arrayFromFilter","filter","ceil","justifyContent","minHeight","conRef","insertAdjacentHTML","dataCategories","$92b704da29f36d38$var$renderPageFavorites","removeItem"],"version":3,"file":"favorites.b6b5d818.js.map"}